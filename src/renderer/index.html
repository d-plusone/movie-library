<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Library</title>
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="app-header">
            <div class="header-main">
                <div class="header-left">
                </div>
                <div class="header-center">
                    <div class="header-actions">
                        <button id="addDirectoryBtn" class="btn btn-primary">
                            <span class="icon">üìÅ</span>
                            <span>„Éï„Ç©„É´„ÉÄ„ÇíËøΩÂä†</span>
                        </button>
                        <button id="scanDirectoriesBtn" class="btn btn-secondary">
                            <span class="icon">üîÑ</span>
                            <span>ÂÜç„Çπ„Ç≠„É£„É≥</span>
                        </button>
                        <button id="generateThumbnailsBtn" class="btn btn-secondary">
                            <span class="icon">üñºÔ∏è</span>
                            <span>„Çµ„É†„Éç„Ç§„É´ÂÜçÁîüÊàê</span>
                        </button>
                        <button id="bulkTagApplyBtn" class="btn btn-secondary">
                            <span class="icon">üè∑Ô∏è</span>
                            <span>„Çø„Ç∞‰∏ÄÊã¨ÂèçÊò†</span>
                        </button>
                    </div>
                </div>
                <div class="header-right">
                    <div class="search-container">
                        <input type="text" id="searchInput" class="search-input" placeholder="ÂãïÁîª„ÇíÊ§úÁ¥¢...">
                        <span class="search-icon">üîç</span>
                    </div>
                    <button id="themeToggleBtn" class="btn btn-icon" title="„ÉÜ„Éº„ÉûÂàá„ÇäÊõø„Åà">
                        <span class="icon">üåô</span>
                    </button>
                    <button id="settingsBtn" class="btn btn-icon">
                        <span class="icon">‚öôÔ∏è</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Progress Bar „ÅØÂãïÁöÑ„Å´‰ΩúÊàê„Åï„Çå„Çã„Åü„ÇÅ„ÄÅHTML„ÉÜ„É≥„Éó„É¨„Éº„Éà„Åã„ÇâÂâäÈô§ -->

        <!-- Main Content -->
        <main class="main-content">
            <!-- Sidebar -->
            <aside id="sidebar" class="sidebar">
                <div class="sidebar-section">
                    <h3>„Éï„Ç£„É´„Çø„Éº</h3>
                    <div class="filter-group">
                        <label>Ë©ï‰æ°</label>
                        <div class="rating-filter">
                            <button class="rating-btn" data-rating="1">‚òÜ</button>
                            <button class="rating-btn" data-rating="2">‚òÜ</button>
                            <button class="rating-btn" data-rating="3">‚òÜ</button>
                            <button class="rating-btn" data-rating="4">‚òÜ</button>
                            <button class="rating-btn" data-rating="5">‚òÜ</button>
                        </div>
                        <button class="rating-btn all-btn" data-rating="0">„Åô„Åπ„Å¶</button>
                    </div>
                    <div class="filter-group">
                        <label>„ÇΩ„Éº„Éà</label>
                        <select id="sortSelect" class="sort-select">
                            <option value="filename">„Éï„Ç°„Ç§„É´Âêç</option>
                            <option value="title">„Çø„Ç§„Éà„É´</option>
                            <option value="duration">ÂÜçÁîüÊôÇÈñì</option>
                            <option value="size">„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫</option>
                            <option value="createdAt">‰ΩúÊàêÊó•</option>
                            <option value="rating">Ë©ï‰æ°</option>
                            <option value="addedAt">ËøΩÂä†Êó•</option>
                        </select>
                        <select id="orderSelect" class="sort-select">
                            <option value="ASC">ÊòáÈ†Ü</option>
                            <option value="DESC">ÈôçÈ†Ü</option>
                        </select>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>„Çø„Ç∞</h3>
                    <div class="tag-controls">
                        <button id="clearAllTagsBtn" class="btn btn-small">ÂÖ®„Å¶Ëß£Èô§</button>
                    </div>
                    <div id="tagsList" class="tags-list">
                        <!-- Tags will be populated here -->
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>„Éï„Ç©„É´„ÉÄ</h3>
                    <div class="folder-controls">
                        <button id="selectAllFoldersBtn" class="btn btn-small">ÂÖ®„Å¶ÈÅ∏Êäû</button>
                        <button id="deselectAllFoldersBtn" class="btn btn-small">ÂÖ®„Å¶Ëß£Èô§</button>
                    </div>
                    <div id="directoriesList" class="directories-list">
                        <!-- Directories will be populated here -->
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>„Ç≠„Éº„Éú„Éº„Éâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥</h3>
                    <div class="keyboard-help">
                        <div class="help-group">
                            <div class="help-title">„Ç∞„É™„ÉÉ„Éâ„Éì„É•„Éº</div>
                            <div class="help-item">
                                <span class="help-key">‚Üë‚Üì‚Üê‚Üí</span>
                                <span class="help-desc">2Ê¨°ÂÖÉÈÅ∏Êäû</span>
                            </div>
                        </div>
                        <div class="help-group">
                            <div class="help-title">„É™„Çπ„Éà„Éì„É•„Éº</div>
                            <div class="help-item">
                                <span class="help-key">‚Üë‚Üì‚Üê‚Üí</span>
                                <span class="help-desc">‰∏ä‰∏ãÈÅ∏Êäû</span>
                            </div>
                        </div>
                        <div class="help-item">
                            <span class="help-key">Enter</span>
                            <span class="help-desc">ÂÜçÁîü</span>
                        </div>
                        <div class="help-item">
                            <span class="help-key">Esc</span>
                            <span class="help-desc">Ë©≥Á¥∞„ÇíÈñâ„Åò„Çã</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Video List -->
            <section class="video-list-container">
                <div class="video-list-header">
                    <div class="view-controls">
                        <button id="gridViewBtn" class="view-btn active" data-view="grid">
                            <span class="icon">‚äû</span>
                        </button>
                        <button id="listViewBtn" class="view-btn" data-view="list">
                            <span class="icon">‚ò∞</span>
                        </button>
                    </div>
                    <div class="video-count">
                        <span id="videoCount">0 ÂãïÁîª</span>
                    </div>
                </div>
                <div id="videoList" class="video-list grid-view">
                    <!-- Video items will be populated here -->
                </div>
            </section>

            <!-- Video Details Panel -->
            <aside id="detailsPanel" class="details-panel" style="display: none;">
                <div class="details-header">
                    <h3 id="detailsTitle">ÂãïÁîªË©≥Á¥∞</h3>
                    <button id="closeDetailsBtn" class="btn btn-icon">
                        <span class="icon">‚úï</span>
                    </button>
                </div>
                <div class="details-content">
                    <div class="details-thumbnails">
                        <div class="main-thumbnail">
                            <img id="detailsMainThumbnail" src="" alt="„É°„Ç§„É≥„Çµ„É†„Éç„Ç§„É´">
                            <button id="refreshMainThumbnailBtn" class="refresh-thumbnail-btn" title="„É°„Ç§„É≥„Çµ„É†„Éç„Ç§„É´„ÇíÊõ¥Êñ∞">
                                <span class="icon">üîÑ</span>
                            </button>
                        </div>
                        <div class="chapter-thumbnails">
                            <div id="detailsChapterThumbnails" class="chapter-grid">
                                <!-- Chapter thumbnails will be populated here -->
                            </div>
                        </div>
                    </div>

                    <div class="details-info">
                        <div class="info-group">
                            <label>„Çø„Ç§„Éà„É´</label>
                            <input type="text" id="detailsTitleInput" class="details-input">
                        </div>

                        <div class="info-group">
                            <label>Ë©ï‰æ°</label>
                            <div class="rating-input">
                                <button class="clear-rating-btn" title="Ë©ï‰æ°„ÇíÂâäÈô§">√ó</button>
                                <span class="star" data-rating="1">‚≠ê</span>
                                <span class="star" data-rating="2">‚≠ê</span>
                                <span class="star" data-rating="3">‚≠ê</span>
                                <span class="star" data-rating="4">‚≠ê</span>
                                <span class="star" data-rating="5">‚≠ê</span>
                            </div>
                        </div>

                        <div class="info-group">
                            <label>Ë™¨Êòé</label>
                            <textarea id="detailsDescriptionInput" class="details-textarea" rows="4"></textarea>
                        </div>

                        <div class="info-group">
                            <label>„Çø„Ç∞</label>
                            <div class="tags-input-container">
                                <input type="text" id="tagInput" class="tag-input"
                                    placeholder="„Çø„Ç∞„ÇíËøΩÂä†„Åó„Å¶Enter„Ç≠„Éº„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ..." list="tagSuggestions">
                                <datalist id="tagSuggestions">
                                    <!-- Tag suggestions will be populated here -->
                                </datalist>
                                <div id="detailsTagsList" class="details-tags">
                                    <!-- Tags will be populated here -->
                                </div>
                            </div>
                        </div>

                        <div class="info-group">
                            <label>„Éï„Ç°„Ç§„É´ÊÉÖÂ†±</label>
                            <div class="file-info">
                                <div class="info-row">
                                    <span class="info-label">„Éï„Ç°„Ç§„É´„Éë„Çπ:</span>
                                    <span id="detailsFilePath" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫:</span>
                                    <span id="detailsFileSize" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">ÂÜçÁîüÊôÇÈñì:</span>
                                    <span id="detailsDuration" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Ëß£ÂÉèÂ∫¶:</span>
                                    <span id="detailsResolution" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">„Éï„É¨„Éº„É†„É¨„Éº„Éà:</span>
                                    <span id="detailsFps" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">„Ç≥„Éº„Éá„ÉÉ„ÇØ:</span>
                                    <span id="detailsCodec" class="info-value"></span>
                                </div>
                            </div>
                        </div>

                        <div class="details-actions">
                            <button id="saveDetailsBtn" class="btn btn-primary">‰øùÂ≠ò</button>
                            <button id="playVideoBtn" class="btn btn-secondary">ÂÜçÁîü</button>
                        </div>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Ë®≠ÂÆö</h2>
                    <button id="closeSettingsBtn" class="btn btn-icon">
                        <span class="icon">‚úï</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="settings-section">
                        <h3>Áõ£Ë¶ñ„Éï„Ç©„É´„ÉÄ</h3>
                        <div id="settingsDirectoriesList" class="settings-directories">
                            <!-- Directories will be populated here -->
                        </div>
                        <button id="addDirectorySettingsBtn" class="btn btn-secondary">
                            <span class="icon">üìÅ</span>
                            „Éï„Ç©„É´„ÉÄ„ÇíËøΩÂä†
                        </button>
                    </div>

                    <div class="settings-section">
                        <h3>Â§ñË¶≥</h3>
                        <div class="setting-item">
                            <label for="themeSelect">„ÉÜ„Éº„Éû</label>
                            <select id="themeSelect" class="setting-select">
                                <option value="system">„Ç∑„Çπ„ÉÜ„É†Ë®≠ÂÆö„Å´Âæì„ÅÜ</option>
                                <option value="light">„É©„Ç§„Éà„É¢„Éº„Éâ</option>
                                <option value="dark">„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>„Éï„Ç£„É´„Çø„ÉºË®≠ÂÆö</h3>
                        <div class="setting-item">
                            <label for="saveFilterState">
                                <input type="checkbox" id="saveFilterState" class="setting-checkbox">
                                „Éï„Ç£„É´„Çø„É™„É≥„Ç∞Áä∂ÊÖã„Çí‰øùÂ≠ò„Åô„Çã
                            </label>
                            <div class="setting-description">
                                Ë©ï‰æ°„ÄÅ„Çø„Ç∞„ÄÅ„Éï„Ç©„É´„ÉÄ„Éï„Ç£„É´„Çø„Éº„ÅÆÁä∂ÊÖã„ÇíÊ¨°ÂõûËµ∑ÂãïÊôÇ„Åæ„Åß‰øùÊåÅ„Åó„Åæ„Åô
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>„Çµ„É†„Éç„Ç§„É´Ë®≠ÂÆö</h3>
                        <div class="setting-item">
                            <label for="thumbnailQuality">„Çµ„É†„Éç„Ç§„É´ÂìÅË≥™</label>
                            <select id="thumbnailQuality" class="setting-select">
                                <option value="1">ÊúÄÈ´òÂìÅË≥™</option>
                                <option value="2">È´òÂìÅË≥™</option>
                                <option value="3">Ê®ôÊ∫ñÂìÅË≥™</option>
                                <option value="5">‰ΩéÂìÅË≥™</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="thumbnailSize">„Çµ„É†„Éç„Ç§„É´„Çµ„Ç§„Ç∫</label>
                            <select id="thumbnailSize" class="setting-select">
                                <option value="1280x720">HD (1280x720)</option>
                                <option value="854x480">SD (854x480)</option>
                                <option value="640x360">Â∞è (640x360)</option>
                                <option value="320x180">Ê•µÂ∞è (320x180)</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>„Éá„Éº„Çø„Éô„Éº„ÇπÊìç‰Ωú</h3>

                        <div class="setting-item">
                            <label>„Çπ„Ç≠„É£„É≥Êìç‰Ωú</label>
                            <div class="setting-description">
                                ÂãïÁîª„Éï„Ç°„Ç§„É´„ÅÆÊÉÖÂ†±„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Åæ„Åô
                            </div>
                            <button id="rescanAllBtn" class="btn btn-secondary">
                                <span class="icon">üîÑ</span>
                                ÂÖ®„Å¶„ÅÆÂãïÁîª„ÇíÂÜç„Çπ„Ç≠„É£„É≥
                            </button>
                        </div>

                        <div class="setting-item">
                            <label>„Çµ„É†„Éç„Ç§„É´Êìç‰Ωú</label>
                            <div class="setting-description">
                                „Çµ„É†„Éç„Ç§„É´ÁîªÂÉè„ÅÆÁîüÊàê„Å®ÁÆ°ÁêÜ„ÇíË°å„ÅÑ„Åæ„Åô
                            </div>
                            <div class="setting-button-group">
                                <button id="regenerateThumbnailsBtn" class="btn btn-secondary">
                                    <span class="icon">üñºÔ∏è</span>
                                    ÂÖ®„Å¶ÂÜçÁîüÊàê
                                </button>
                                <button id="cleanupThumbnailsBtn" class="btn btn-secondary">
                                    <span class="icon">üóëÔ∏è</span>
                                    ‰∏çË¶Å„Å™ÁîªÂÉè„ÇíÂâäÈô§
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="saveSettingsBtn" class="btn btn-success">
                        <span class="icon">üíæ</span>
                        ‰øùÂ≠ò
                    </button>
                    <button id="cancelSettingsBtn" class="btn btn-secondary">
                        „Ç≠„É£„É≥„Çª„É´
                    </button>
                </div>
            </div>
        </div>

        <!-- Video Tooltip -->
        <div id="videoTooltip" class="video-tooltip" style="display: none;">
            <div class="tooltip-title"></div>
            <div class="tooltip-info"></div>
            <div class="tooltip-tags"></div>
        </div>

        <!-- Error Dialog -->
        <div id="errorDialog" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>„Ç®„É©„Éº</h2>
                    <button id="closeErrorBtn" class="btn btn-icon">
                        <span class="icon">‚úï</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="errorMessage" class="error-message"></div>
                    <div id="errorDetails" class="error-details" style="display: none;"></div>
                </div>
                <div class="modal-actions">
                    <button id="showErrorDetailsBtn" class="btn btn-secondary">Ë©≥Á¥∞„ÇíË°®Á§∫</button>
                    <button id="errorOkBtn" class="btn btn-primary">OK</button>
                </div>
            </div>
        </div>

        <!-- Tag Edit Dialog -->
        <div id="tagEditDialog" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>„Çø„Ç∞„ÇíÁ∑®ÈõÜ</h2>
                    <button id="closeTagEditBtn" class="btn btn-icon">
                        <span class="icon">‚úï</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <label for="tagNameInput">„Çø„Ç∞Âêç</label>
                        <input type="text" id="tagNameInput" class="modal-input">
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="cancelTagEditBtn" class="btn btn-secondary">„Ç≠„É£„É≥„Çª„É´</button>
                    <button id="saveTagEditBtn" class="btn btn-primary">‰øùÂ≠ò</button>
                </div>
            </div>
        </div>
        <!-- Bulk Tag Apply Dialog -->
        <div id="bulkTagApplyDialog" class="modal" style="display: none;">
            <div class="modal-content bulk-tag-apply-modal">
                <div class="modal-header">
                    <h2>„Çø„Ç∞‰∏ÄÊã¨ÂèçÊò†</h2>
                    <button id="closeBulkTagApplyDialog" class="btn btn-icon">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="bulk-tag-apply-container">
                        <div class="bulk-tag-apply-table-container">
                            <table id="bulkTagApplyTable" class="bulk-tag-apply-table">
                                <thead>
                                    <tr>
                                        <th class="video-name-header sticky-header">ÂãïÁîªÂêç</th>
                                        <!-- Tag columns will be dynamically added here -->
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Video rows will be dynamically added here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="applyBulkTagsBtn" class="btn btn-success bulk-tag-apply-btn">ÂèçÊò†</button>
                    <button id="cancelBulkTagApplyBtn" class="btn btn-secondary">„Ç≠„É£„É≥„Çª„É´</button>
                </div>
            </div>
        </div>

        <!-- Notification Container -->
        <div id="notificationContainer" class="notification-container">
            <!-- Notifications will be populated here -->
        </div>

        <!-- Thumbnail Modal -->
        <div id="thumbnailModal" class="thumbnail-modal" style="display: none;">
            <div class="thumbnail-modal-content">
                <div class="thumbnail-modal-header">
                    <h3 id="thumbnailModalTitle">„Çµ„É†„Éç„Ç§„É´Ë°®Á§∫</h3>
                    <button id="closeThumbnailBtn" class="btn btn-icon">
                        <span class="icon">‚úï</span>
                    </button>
                </div>
                <div class="thumbnail-modal-body">
                    <div class="thumbnail-modal-nav">
                        <button id="prevThumbnailBtn" class="nav-btn">
                            <span class="icon">‚óÄ</span>
                        </button>
                        <div class="thumbnail-display">
                            <img id="modalThumbnailImage" src="" alt="„Çµ„É†„Éç„Ç§„É´">
                            <div id="thumbnailInfo" class="thumbnail-info">
                                <span id="thumbnailTimestamp"></span>
                                <span id="thumbnailIndex"></span>
                            </div>
                        </div>
                        <button id="nextThumbnailBtn" class="nav-btn">
                            <span class="icon">‚ñ∂</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tooltip -->
        <div id="tooltip" class="tooltip" style="display: none;">
            <div class="tooltip-content">
                <div id="tooltipTitle" class="tooltip-title"></div>
                <div id="tooltipChapters" class="tooltip-chapters">
                    <!-- Chapter thumbnails will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./app.js"></script>
</body>

</html>